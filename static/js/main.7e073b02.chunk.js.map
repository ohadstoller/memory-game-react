{"version":3,"sources":["components/ColorCard.js","utils/utils.js","components/RestartButton.js","components/GameMessage.js","components/Score.js","components/StartGameModal.js","App.js","reportWebVitals.js","index.js"],"names":["ColorCard","color","onClick","flash","className","wait","ms","a","Promise","resolve","setTimeout","RestartButton","props","gameData","round","score","GameMessage","simonTurn","playerTurn","isGameOver","Score","name","StartGameModal","onSubmit","onChange","value","placeholder","disabled","type","FLASH_INTERVAL","App","colorList","initGameData","isFlashing","isUserPlaying","colors","userColors","playerName","useState","isGameOn","setGameOn","setGameData","newPlayerName","setNewPlayerName","flashColor","setFlashColor","playersData","setPlayersData","useEffect","newColor","Math","floor","random","length","nextRoundColors","flashColors","i","userGuessedColors","userClickHandle","guessedColor","remainingColorsToGuess","nextColorToGuess","shift","concat","id","Date","now","restartGame","gameNotStarted","isSimonTurn","isPlayerTurn","map","colorIndex","event","nameValue","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e073b02.chunk.js","sourcesContent":["export default function ColorCard({color, onClick, flash}) {\n  return (\n    <div\n      onClick={onClick}\n      className={`color-circle-button ${color} ${flash ? \"flash\" : \"\"}`}/>\n  )\n}","export default async function wait (ms) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n\n","export function RestartButton(props) {\n  return <div className=\"lost\">\n    <div>You lost... Round: {props.gameData.round}</div>\n    <div>Your score: {props.gameData.score}</div>\n    <button onClick={props.onClick}>Restart</button>\n  </div>;\n}","export function GameMessage({simonTurn, playerTurn, isGameOver}) {\n  return <div>\n    {simonTurn && (\n      <div>Simon say...</div>\n    )}\n\n    {playerTurn && (\n      <div>Now do as Simon said</div>\n    )}\n\n    {isGameOver && (\n      <div>The game is over</div>\n    )}\n  </div>;\n}","export function Score(props) {\n  return <ul>\n    <> {props.name}</>\n    <> , score: {props.score}</>\n  </ul>;\n\n}","export function StartGameModal(props) {\n  return <div className=\"modal\">\n    {/*<StartButton onClick={startGame}/>*/}\n\n    <form onSubmit={props.onSubmit}>\n      <input onChange={props.onChange}\n             value={props.value}\n             placeholder=\"Add your name here\"/>\n      <button\n        disabled={!props.value}\n        type=\"submit\">Start\n      </button>\n    </form>\n  </div>;\n}","import './App.css'\nimport {useEffect, useState} from \"react\"\nimport ColorCard from \"./components/ColorCard\"\nimport wait from \"./utils/utils\"\nimport {RestartButton} from \"./components/RestartButton\"\nimport {GameMessage} from \"./components/GameMessage\"\nimport {Score} from \"./components/Score\"\nimport {StartGameModal} from \"./components/StartGameModal\"\n\n\nconst FLASH_INTERVAL = 500 // ml\n\nfunction App() {\n  const colorList = [\"green\", \"red\", \"yellow\", \"blue\", \"purple\", \"pink\"]\n  const initGameData = {\n    isFlashing: false,\n    isUserPlaying: false,\n    colors: [],\n    round: 1,\n    userColors: [],\n    score: 0,\n    playerName: null\n  };\n\n  const [isGameOn, setGameOn] = useState(false)\n  const [gameData, setGameData] = useState(initGameData)\n  const [newPlayerName, setNewPlayerName] = useState(null)\n  const [flashColor, setFlashColor] = useState(null)\n  const [playersData, setPlayersData] = useState([])\n\n\n  useEffect(() => {\n    if (isGameOn) {\n      setGameData({...initGameData, isFlashing: true})\n    }\n  }, [isGameOn])\n\n  useEffect(() => {\n    if (isGameOn && gameData.isFlashing) {\n      // pick a new random color from our color list\n      const newColor = colorList[Math.floor(Math.random() * colorList.length)]\n      const nextRoundColors = [...gameData.colors, newColor]\n\n      setGameData({...gameData, colors: nextRoundColors})\n    }\n  }, [isGameOn, gameData.isFlashing])\n\n  useEffect( () => {\n    let shouldFlashColors = isGameOn && gameData.isFlashing && gameData.colors.length\n    if (shouldFlashColors) {\n      flashColors()\n    }\n  }, [isGameOn, gameData.isFlashing, gameData.colors.length])\n\n\n\n  const flashColors = async () => {\n    await wait(FLASH_INTERVAL)\n    for (let i = 0; i < gameData.colors.length; i++) {\n      setFlashColor(gameData.colors[i])\n      await wait(FLASH_INTERVAL)\n      setFlashColor(null)\n      await wait(FLASH_INTERVAL)\n\n      if (i === gameData.colors.length - 1) {\n\n        setGameData({\n          ...gameData,\n          isFlashing: false,\n          isUserPlaying: true,\n          userGuessedColors: [...gameData.colors],\n        });\n      }\n    }\n  }\n\n  const userClickHandle = async (guessedColor) => {\n    const {isFlashing, isUserPlaying} = gameData\n    if (!isFlashing && isUserPlaying) {\n      setFlashColor(guessedColor)\n      await wait(FLASH_INTERVAL)\n      setFlashColor(null)\n      const remainingColorsToGuess = [...gameData.userGuessedColors]\n      const nextColorToGuess = remainingColorsToGuess.shift()\n      // if user picked to right color\n      if (guessedColor === nextColorToGuess) {\n        gameData.score += 10\n        // and user has more colors to guess\n        if (remainingColorsToGuess.length) {\n          // continue round with remaining colors\n          setGameData({...gameData, userGuessedColors: remainingColorsToGuess})\n        }\n        // else - round is finished successfully\n        else {\n          setGameData({\n            ...gameData,\n            isFlashing: true,\n            isUserPlaying: false,\n            round: gameData.colors.length + 1,\n            userGuessedColors: [],\n          });\n        }\n      }\n      // else - user picked a wrong color\n      else {\n        await setPlayersData(playersData.concat({score: gameData.score, name: newPlayerName, id: Date.now()}))\n        // initialize new game\n        await setGameData({...initGameData, score: gameData.score})\n\n      }\n    }\n  }\n\n  const startGame = () => {\n    setGameOn(true)\n  }\n\n  const restartGame = async () => {\n    setNewPlayerName(null)\n    setGameOn(false)\n  }\n\n  const handleNameChange = (event) => {\n    const nameValue = event.target.value\n    setNewPlayerName(nameValue)\n  }\n\n  const gameNotStarted = !isGameOn && gameData.round === 1\n  const isGameOver = isGameOn && !gameData.isFlashing && !gameData.isUserPlaying && gameData.round > 0\n  const isSimonTurn = isGameOn && gameData.isFlashing\n  const isPlayerTurn = isGameOn && gameData.isUserPlaying\n\n  return (\n    <div className=\"game-container\">\n      <div className=\"score-table\">\n        {playersData.map(({score, name, id}) => (\n          <Score key={id} name={name} score={score}/>\n        ))}\n      </div>\n      <GameMessage simonTurn={isSimonTurn} playerTurn={isPlayerTurn} isGameOver={isGameOver}/>\n      <div className=\"colors-container\">\n        {colorList.map((color, colorIndex) => (\n          <ColorCard key={colorIndex}\n                     onClick={() => userClickHandle(color)}\n                     flash={flashColor === color}\n                     color={color}\n          />\n        ))}\n      </div>\n      {isGameOver && (\n        <RestartButton gameData={gameData} onClick={restartGame}/>\n      )}\n      {gameNotStarted && (\n        <StartGameModal onSubmit={startGame} onChange={handleNameChange} value={newPlayerName}/>\n      )}\n\n      {isGameOn && (\n        <div className=\"score\">Score:{gameData.score}</div>\n      )}\n\n\n    </div>\n\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}