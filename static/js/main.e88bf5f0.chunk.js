(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{16:function(e,n,t){},18:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),s=t(10),a=t.n(s),o=(t(16),t(3)),i=t.n(o),u=t(4),l=t(8),j=t(2),b=t(5),d=(t(18),t(11)),h=t(0);function O(e){var n=e.color,t=e.onClick,r=e.flash;return Object(h.jsx)("div",{onClick:t,className:"color-circle-button ".concat(n," ").concat(r?"flash":"")})}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var n=e.gameData,t=e.onClick;return Object(h.jsxs)("div",{className:"lost",children:[Object(h.jsx)("div",{children:"You lost... "}),Object(h.jsxs)("div",{children:["Your score: ",n.score]}),Object(h.jsx)("button",{onClick:t,children:"Restart"})]})}function v(e){var n=e.simonTurn,t=e.playerTurn,r=e.isGameOver;return Object(h.jsxs)("div",{children:[n&&Object(h.jsx)("div",{children:"Simon say..."}),t&&Object(h.jsx)("div",{children:"Now do as Simon said"}),r&&Object(h.jsx)("div",{children:"The game is over"})]})}function x(e){return Object(h.jsxs)("ul",{children:[Object(h.jsxs)(h.Fragment,{children:[" ",e.name]}),Object(h.jsxs)(h.Fragment,{children:[" , score: ",e.score]})]})}function p(e){return Object(h.jsx)("div",{className:"modal",children:Object(h.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(h.jsx)("input",{onChange:e.onChange,value:e.value,placeholder:"Add your name here"}),Object(h.jsx)("button",{disabled:!e.value,type:"submit",children:"Start"})]})})}var y=500;var k=function(){var e=["green","red","yellow","blue","purple","pink"],n={isFlashing:!1,isUserPlaying:!1,colors:[],round:1,userColors:[],score:0,playerName:null},t=Object(r.useState)(!1),c=Object(b.a)(t,2),s=c[0],a=c[1],o=Object(r.useState)(n),m=Object(b.a)(o,2),k=m[0],C=m[1],F=Object(r.useState)(null),w=Object(b.a)(F,2),S=w[0],N=w[1],P=Object(r.useState)(null),T=Object(b.a)(P,2),G=T[0],U=T[1],D=Object(r.useState)([]),E=Object(b.a)(D,2),B=E[0],M=E[1];Object(r.useEffect)((function(){s&&C(Object(j.a)(Object(j.a)({},n),{},{isFlashing:!0}))}),[s]),Object(r.useEffect)((function(){if(s&&k.isFlashing){var n=e[Math.floor(Math.random()*e.length)],t=[].concat(Object(l.a)(k.colors),[n]);C(Object(j.a)(Object(j.a)({},k),{},{colors:t}))}}),[s,k.isFlashing]),Object(r.useEffect)((function(){s&&k.isFlashing&&k.colors.length&&I()}),[s,k.isFlashing,k.colors.length]);var I=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(y);case 2:n=0;case 3:if(!(n<k.colors.length)){e.next=14;break}return U(k.colors[n]),e.next=7,f(y);case 7:return U(null),e.next=10,f(y);case 10:n===k.colors.length-1&&C(Object(j.a)(Object(j.a)({},k),{},{isFlashing:!1,isUserPlaying:!0,userGuessedColors:Object(l.a)(k.colors)}));case 11:n++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(i.a.mark((function e(t){var r,c,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k.isFlashing,c=k.isUserPlaying,r||!c){e.next=16;break}return U(t),e.next=5,f(y);case 5:if(U(null),s=Object(l.a)(k.userGuessedColors),a=s.shift(),t!==a){e.next=12;break}s.length?C(Object(j.a)(Object(j.a)({},k),{},{userGuessedColors:s})):(k.score+=10,C(Object(j.a)(Object(j.a)({},k),{},{isFlashing:!0,isUserPlaying:!1,round:k.colors.length+1,userGuessedColors:[]}))),e.next=16;break;case 12:return e.next=14,M(B.concat({score:k.score,name:S,id:Date.now()}));case 14:return e.next=16,C(Object(j.a)(Object(j.a)({},n),{},{score:k.score}));case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(null),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=!s&&1===k.round,A=s&&!k.isFlashing&&!k.isUserPlaying&&k.round>0,R=s&&k.isFlashing,q=s&&k.isUserPlaying;return Object(h.jsxs)("div",{className:"game-container",children:[Object(h.jsx)("div",{className:"score-table",children:d.orderBy(B,["score"],["desc"]).map((function(e){var n=e.score,t=e.name,r=e.id;return Object(h.jsx)(x,{name:t,score:n},r)}))}),Object(h.jsx)(v,{simonTurn:R,playerTurn:q,isGameOver:A}),Object(h.jsx)("div",{className:"colors-container",children:e.map((function(e,n){return Object(h.jsx)(O,{onClick:function(){return J(e)},flash:G===e,color:e},n)}))}),A&&Object(h.jsx)(g,{gameData:k,onClick:L}),Y&&Object(h.jsx)(p,{onSubmit:function(){a(!0)},onChange:function(e){var n=e.target.value;N(n)},value:S}),s&&Object(h.jsxs)("div",{className:"score",children:["Score:",k.score]})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,23)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),s(e),a(e)}))};a.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),C()}},[[22,1,2]]]);
//# sourceMappingURL=main.e88bf5f0.chunk.js.map